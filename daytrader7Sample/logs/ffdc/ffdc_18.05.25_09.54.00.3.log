------Start of DE processing------ = [25/05/18 09:54:00:544 CEST]
Exception = javax.ejb.NoSuchEJBException
Source = com.ibm.ejs.container.LocalExceptionMappingStrategy.setUncheckedException
probeid = 178
Stack Dump = javax.ejb.NoSuchEJBException: An error occurred during initialization of singleton session bean daytrader7#daytrader-ee7-ejb.jar#MarketSummarySingleton, resulting in the discarding of the singleton instance.; nested exception is: javax.ejb.EJBException: CWNEN0030E: The server was unable to obtain an object instance for the java:comp/env/com.ibm.websphere.samples.daytrader.ejb3.MarketSummarySingleton/entityManager reference.  The exception message was: java.lang.NullPointerException; nested exception is: java.lang.RuntimeException: java.lang.NullPointerException
	at com.ibm.ejs.container.util.ExceptionUtil.NoSuchEJBException(ExceptionUtil.java:497)
	at com.ibm.ejs.container.EJSHome.createSingletonBeanO(EJSHome.java:3754)
	at com.ibm.ejs.container.EJSHome.createBeanO(EJSHome.java:936)
	at com.ibm.ejs.container.EJSHome.createBeanO(EJSHome.java:1077)
	at com.ibm.ejs.container.activator.UncachedActivationStrategy.atActivate(UncachedActivationStrategy.java:62)
	at com.ibm.ejs.container.activator.Activator.preInvokeActivateBean(Activator.java:263)
	at com.ibm.ejs.container.EJSContainer.preInvokeActivate(EJSContainer.java:3234)
	at com.ibm.ejs.container.EJSContainer.EjbPreInvoke(EJSContainer.java:2571)
	at com.ibm.ejs.container.TimedObjectWrapper.invokeCallback(TimedObjectWrapper.java:83)
	at com.ibm.ejs.container.TimerNpRunnable.doWork(TimerNpRunnable.java:195)
	at com.ibm.ejs.container.TimerNpRunnable.run(TimerNpRunnable.java:102)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:844)
Caused by: javax.ejb.EJBException: CWNEN0030E: The server was unable to obtain an object instance for the java:comp/env/com.ibm.websphere.samples.daytrader.ejb3.MarketSummarySingleton/entityManager reference.  The exception message was: java.lang.NullPointerException; nested exception is: java.lang.RuntimeException: java.lang.NullPointerException
	at com.ibm.ejs.container.util.ExceptionUtil.EJBException(ExceptionUtil.java:460)
	at com.ibm.ejs.container.ManagedBeanOBase.injectInstance(ManagedBeanOBase.java:153)
	at com.ibm.ejs.container.SingletonBeanO.initialize(SingletonBeanO.java:301)
	at com.ibm.ejs.container.BeanOFactory.create(BeanOFactory.java:103)
	at com.ibm.ejs.container.EJSHome.createSingletonBeanO(EJSHome.java:3740)
	... 14 more
Caused by: java.lang.RuntimeException: java.lang.NullPointerException
	at com.ibm.ws.jpa.management.JPAPUnitInfo.getEntityManagerFactory(JPAPUnitInfo.java:804)
	at com.ibm.ws.jpa.management.JPAPUnitInfo.getEntityManagerPool(JPAPUnitInfo.java:994)
	at com.ibm.ws.jpa.management.JPATxEntityManager.<init>(JPATxEntityManager.java:147)
	at com.ibm.ws.jpa.container.v21.JPATxEntityManagerV21.<init>(JPATxEntityManagerV21.java:45)
	at com.ibm.ws.jpa.container.v21.internal.JPA21Runtime.createJPATxEntityManager(JPA21Runtime.java:71)
	at com.ibm.ws.jpa.management.AbstractJPAComponent.getEntityManager(AbstractJPAComponent.java:255)
	at com.ibm.ws.jpa.container.osgi.jndi.JPAJndiLookupObjectFactory.getObjectInstance(JPAJndiLookupObjectFactory.java:149)
	at com.ibm.wsspi.injectionengine.InjectionBinding.getInjectionObjectInstance(InjectionBinding.java:1552)
	at com.ibm.wsspi.injectionengine.InjectionBinding.getInjectionObject(InjectionBinding.java:1428)
	at com.ibm.wsspi.injectionengine.InjectionBinding.getInjectableObject(InjectionBinding.java:1368)
	at com.ibm.wsspi.injectionengine.InjectionTarget.inject(InjectionTarget.java:104)
	at com.ibm.ws.injectionengine.AbstractInjectionEngine.inject(AbstractInjectionEngine.java:851)
	at com.ibm.ejs.container.ManagedBeanOBase.injectInstance(ManagedBeanOBase.java:147)
	... 17 more
Caused by: java.lang.NullPointerException
	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2062)
	at org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactoryImpl(PersistenceProvider.java:334)
	at org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactory(PersistenceProvider.java:305)
	at com.ibm.ws.jpa.management.JPAPUnitInfo.createEMFactory(JPAPUnitInfo.java:910)
	at com.ibm.ws.jpa.management.JPAPUnitInfo.initialize(JPAPUnitInfo.java:762)
	at com.ibm.ws.jpa.management.JPAPxmlInfo.extractPersistenceUnits(JPAPxmlInfo.java:190)
	at com.ibm.ws.jpa.management.JPAScopeInfo.processPersistenceUnit(JPAScopeInfo.java:90)
	at com.ibm.ws.jpa.management.JPAApplInfo.addPersistenceUnits(JPAApplInfo.java:118)
	at com.ibm.ws.jpa.container.osgi.internal.JPAComponentImpl.processEJBModulePersistenceXml(JPAComponentImpl.java:527)
	at com.ibm.ws.jpa.container.osgi.internal.JPAComponentImpl.applicationStarting(JPAComponentImpl.java:264)
	at com.ibm.ws.container.service.state.internal.ApplicationStateManager.fireStarting(ApplicationStateManager.java:28)
	at com.ibm.ws.container.service.state.internal.StateChangeServiceImpl.fireApplicationStarting(StateChangeServiceImpl.java:50)
	at com.ibm.ws.app.manager.module.internal.DeployedAppInfoBase.preDeployApp(DeployedAppInfoBase.java:383)
	at com.ibm.ws.app.manager.module.internal.DeployedAppInfoBase.deployApp(DeployedAppInfoBase.java:412)
	at com.ibm.ws.app.manager.ear.internal.EARApplicationHandlerImpl.install(EARApplicationHandlerImpl.java:76)
	at com.ibm.ws.app.manager.internal.statemachine.StartAction.execute(StartAction.java:140)
	at com.ibm.ws.app.manager.internal.statemachine.ApplicationStateMachineImpl.enterState(ApplicationStateMachineImpl.java:1258)
	at com.ibm.ws.app.manager.internal.statemachine.ApplicationStateMachineImpl.run(ApplicationStateMachineImpl.java:873)
	... 3 more

Dump of callerThis
Object type = com.ibm.ejs.container.LocalExceptionMappingStrategy
  CLASS_NAME = "com.ibm.ejs.container.LocalExceptionMappingStrategy"
  tc = class com.ibm.websphere.ras.TraceComponent@36ec7c1a
    strings[0] = "TraceComponent[com.ibm.ejs.container.LocalExceptionMappingStrategy,class com.ibm.ejs.container.LocalExceptionMappingStrategy,[EJBContainer],com.ibm.ejs.container.container,null]"
  INSTANCE = class com.ibm.ejs.container.LocalExceptionMappingStrategy@25fca9d7
  tc = class com.ibm.websphere.ras.TraceComponent@23350e40
    strings[0] = "TraceComponent[com.ibm.ejs.container.ExceptionMappingStrategy,class com.ibm.ejs.container.ExceptionMappingStrategy,[EJBContainer],com.ibm.ejs.container.container,null]"

